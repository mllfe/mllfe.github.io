<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Axe"><title>Axios项目配置 · Axe</title><meta name="description" content="前言脱离数据的前端网站就如同一副精美的木偶，虽然很漂亮，但是却无法活动，显得死气沉沉。
前端发展至今，个人封装的、企业封装的网络请求封装的库数不胜数。比较熟悉的：如旧时 $.ajax 以及当前较新的 fetch 大家都或多或少的用过或者听过，不过它们并非本文的主角。
本文主要介绍的是现阶段最受欢迎的"><meta name="keywords" content="Javascript,HTML,CSS,Typescript"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/avatar.jpg" style="width:127px;"><h3 title=""><a href="/">Axe</a></h3><div class="description"><p>不会做饭的厨师不是好程序员</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="http://github.com/mllfe"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="http://gitee.com/shadow-seen"><i class="fa fa-code-fork"></i></a></li></ul></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"></a></li></div><div class="avatar"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epW6HbP60p4KOibicicFmOdG9SuUVOSeqTOXUynknl90CFuyvdZnribjytAUahjstLgQib29tlNU0C1dOw/132"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3></h3></div><div class="post-content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>脱离数据的前端网站就如同一副精美的木偶，虽然很漂亮，但是却无法活动，显得死气沉沉。</p>
<p>前端发展至今，个人封装的、企业封装的网络请求封装的库数不胜数。比较熟悉的：如旧时 <code>$.ajax</code> 以及当前较新的 <code>fetch</code> 大家都或多或少的用过或者听过，不过它们并非本文的主角。</p>
<p>本文主要介绍的是现阶段最受欢迎的网络请求库—— <code>Axios</code>。</p>
<h2 id="什么是Axios？"><a href="#什么是Axios？" class="headerlink" title="什么是Axios？"></a>什么是Axios？</h2><p>Axios 一个基于 <code>promise</code> 的 <code>HTTP</code> 库,可以用在浏览器和 <code>node.js</code> 中。</p>
<blockquote>
<p>Promise based HTTP client for the browser and node.js</p>
<p>Axios provides a simple to use library in a small package with a very extensible interface.</p>
</blockquote>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>从浏览器中创建 <code>XMLHttpRequests</code>。</li>
<li>从 <code>node.js</code> 创建 <code>http</code> 请求。</li>
<li>支持 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> API</li>
<li>拦截请求和响应</li>
<li>转换请求数据和响应数据</li>
<li>取消请求</li>
<li>自动转换 <code>JSON</code> 数据</li>
<li>客户端支持防御 <code>XSRF</code></li>
</ul>
<h2 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h2><p>下面我们来看下如何在项目中集成 <code>Axios</code>。</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line">npm install axios</span><br><span class="line"></span><br><span class="line"><span class="comment"># yarn</span></span><br><span class="line">yarn add axios</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Axios方法签名"><a href="#Axios方法签名" class="headerlink" title="Axios方法签名"></a>Axios方法签名</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(config)</span><br><span class="line"><span class="title function_">axios</span>(url[, config])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 并发处理</span></span><br><span class="line">axios.<span class="title function_">all</span>(iterable)</span><br><span class="line">axios.<span class="title function_">spread</span>(callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下为实例方法与静态方法</span></span><br><span class="line">axios.<span class="title function_">request</span>(config)</span><br><span class="line">axios.<span class="title function_">get</span>(url[, config])</span><br><span class="line">axios.<span class="title function_">delete</span>(url[, config])</span><br><span class="line">axios.<span class="title function_">head</span>(url[, config])</span><br><span class="line">axios.<span class="title function_">options</span>(url[, config])</span><br><span class="line">axios.<span class="title function_">post</span>(url[, data[, config]])</span><br><span class="line">axios.<span class="title function_">put</span>(url[, data[, config]])</span><br><span class="line">axios.<span class="title function_">patch</span>(url[, data[, config]])</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>例如：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eg.</span></span><br><span class="line">axios</span><br><span class="line">  .<span class="title function_">get</span>(<span class="string">`/path?id=id`</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  });</span><br><span class="line"></span><br><span class="line">axios</span><br><span class="line">  .<span class="title function_">get</span>(<span class="string">'/path'</span>, {</span><br><span class="line">    <span class="attr">params</span>: {</span><br><span class="line">      <span class="attr">id</span>: <span class="string">'id'</span></span><br><span class="line">    }</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  });</span><br><span class="line"></span><br><span class="line"><span class="title function_">axios</span>({</span><br><span class="line">  <span class="attr">method</span>: <span class="string">'post'</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">'/path'</span>,</span><br><span class="line">  <span class="attr">data</span>: {</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Axios请求配置"><a href="#Axios请求配置" class="headerlink" title="Axios请求配置"></a>Axios请求配置</h3><p>摘至<a target="_blank" rel="noopener" href="https://axios-http.com/docs/req_config">Axios官方文档</a>;</p>
<p>以下配置通常情况下只需要设置其中的一些，并不需要全部更改。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="comment">// `url` is the server URL that will be used for the request</span></span><br><span class="line">  <span class="attr">url</span>: <span class="string">'/user'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `method` is the request method to be used when making the request</span></span><br><span class="line">  <span class="attr">method</span>: <span class="string">'get'</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `baseURL` will be prepended to `url` unless `url` is absolute.</span></span><br><span class="line">  <span class="comment">// It can be convenient to set `baseURL` for an instance of axios to pass relative URLs</span></span><br><span class="line">  <span class="comment">// to methods of that instance.</span></span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">'https://some-domain.com/api'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `transformRequest` allows changes to the request data before it is sent to the server</span></span><br><span class="line">  <span class="comment">// This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'</span></span><br><span class="line">  <span class="comment">// The last function in the array must return a string or an instance of Buffer, ArrayBuffer,</span></span><br><span class="line">  <span class="comment">// FormData or Stream</span></span><br><span class="line">  <span class="comment">// You may modify the headers object.</span></span><br><span class="line">  <span class="attr">transformRequest</span>: [<span class="keyword">function</span> (<span class="params">data, headers</span>) {</span><br><span class="line">    <span class="comment">// Do whatever you want to transform the data</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  }],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `transformResponse` allows changes to the response data to be made before</span></span><br><span class="line">  <span class="comment">// it is passed to then/catch</span></span><br><span class="line">  <span class="attr">transformResponse</span>: [<span class="keyword">function</span> (<span class="params">data</span>) {</span><br><span class="line">    <span class="comment">// Do whatever you want to transform the data</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  }],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `headers` are custom headers to be sent</span></span><br><span class="line">  <span class="attr">headers</span>: {<span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>},</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `params` are the URL parameters to be sent with the request</span></span><br><span class="line">  <span class="comment">// Must be a plain object or a URLSearchParams object</span></span><br><span class="line">  <span class="comment">// <span class="doctag">NOTE:</span> params that are null or undefined are not rendered in the URL.</span></span><br><span class="line">  <span class="attr">params</span>: {</span><br><span class="line">    <span class="attr">ID</span>: <span class="number">12345</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `paramsSerializer` is an optional function in charge of serializing `params`</span></span><br><span class="line">  <span class="comment">// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span></span><br><span class="line">  <span class="attr">paramsSerializer</span>: <span class="keyword">function</span> (<span class="params">params</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Qs</span>.<span class="title function_">stringify</span>(params, {<span class="attr">arrayFormat</span>: <span class="string">'brackets'</span>})</span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `data` is the data to be sent as the request body</span></span><br><span class="line">  <span class="comment">// Only applicable for request methods 'PUT', 'POST', 'DELETE', and 'PATCH'</span></span><br><span class="line">  <span class="comment">// When no `transformRequest` is set, must be of one of the following types:</span></span><br><span class="line">  <span class="comment">// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span></span><br><span class="line">  <span class="comment">// - Browser only: FormData, File, Blob</span></span><br><span class="line">  <span class="comment">// - Node only: Stream, Buffer</span></span><br><span class="line">  <span class="attr">data</span>: {</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">'Fred'</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// syntax alternative to send data into the body</span></span><br><span class="line">  <span class="comment">// method post</span></span><br><span class="line">  <span class="comment">// only the value is sent, not the key</span></span><br><span class="line">  <span class="attr">data</span>: <span class="string">'Country=Brasil&amp;City=Belo Horizonte'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `timeout` specifies the number of milliseconds before the request times out.</span></span><br><span class="line">  <span class="comment">// If the request takes longer than `timeout`, the request will be aborted.</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">1000</span>, <span class="comment">// default is `0` (no timeout)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `withCredentials` indicates whether or not cross-site Access-Control requests</span></span><br><span class="line">  <span class="comment">// should be made using credentials</span></span><br><span class="line">  <span class="attr">withCredentials</span>: <span class="literal">false</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `adapter` allows custom handling of requests which makes testing easier.</span></span><br><span class="line">  <span class="comment">// Return a promise and supply a valid response (see lib/adapters/README.md).</span></span><br><span class="line">  <span class="attr">adapter</span>: <span class="keyword">function</span> (<span class="params">config</span>) {</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `auth` indicates that HTTP Basic auth should be used, and supplies credentials.</span></span><br><span class="line">  <span class="comment">// This will set an `Authorization` header, overwriting any existing</span></span><br><span class="line">  <span class="comment">// `Authorization` custom headers you have set using `headers`.</span></span><br><span class="line">  <span class="comment">// Please note that only HTTP Basic auth is configurable through this parameter.</span></span><br><span class="line">  <span class="comment">// For Bearer tokens and such, use `Authorization` custom headers instead.</span></span><br><span class="line">  <span class="attr">auth</span>: {</span><br><span class="line">    <span class="attr">username</span>: <span class="string">'janedoe'</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">'s00pers3cret'</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `responseType` indicates the type of data that the server will respond with</span></span><br><span class="line">  <span class="comment">// options are: 'arraybuffer', 'document', 'json', 'text', 'stream'</span></span><br><span class="line">  <span class="comment">//   browser only: 'blob'</span></span><br><span class="line">  <span class="attr">responseType</span>: <span class="string">'json'</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `responseEncoding` indicates encoding to use for decoding responses (Node.js only)</span></span><br><span class="line">  <span class="comment">// Note: Ignored for `responseType` of 'stream' or client-side requests</span></span><br><span class="line">  <span class="attr">responseEncoding</span>: <span class="string">'utf8'</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `xsrfCookieName` is the name of the cookie to use as a value for xsrf token</span></span><br><span class="line">  <span class="attr">xsrfCookieName</span>: <span class="string">'XSRF-TOKEN'</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `xsrfHeaderName` is the name of the http header that carries the xsrf token value</span></span><br><span class="line">  <span class="attr">xsrfHeaderName</span>: <span class="string">'X-XSRF-TOKEN'</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `onUploadProgress` allows handling of progress events for uploads</span></span><br><span class="line">  <span class="comment">// browser only</span></span><br><span class="line">  <span class="attr">onUploadProgress</span>: <span class="keyword">function</span> (<span class="params">progressEvent</span>) {</span><br><span class="line">    <span class="comment">// Do whatever you want with the native progress event</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `onDownloadProgress` allows handling of progress events for downloads</span></span><br><span class="line">  <span class="comment">// browser only</span></span><br><span class="line">  <span class="attr">onDownloadProgress</span>: <span class="keyword">function</span> (<span class="params">progressEvent</span>) {</span><br><span class="line">    <span class="comment">// Do whatever you want with the native progress event</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `maxContentLength` defines the max size of the http response content in bytes allowed in node.js</span></span><br><span class="line">  <span class="attr">maxContentLength</span>: <span class="number">2000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `maxBodyLength` (Node only option) defines the max size of the http request content in bytes allowed</span></span><br><span class="line">  <span class="attr">maxBodyLength</span>: <span class="number">2000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `validateStatus` defines whether to resolve or reject the promise for a given</span></span><br><span class="line">  <span class="comment">// HTTP response status code. If `validateStatus` returns `true` (or is set to `null`</span></span><br><span class="line">  <span class="comment">// or `undefined`), the promise will be resolved; otherwise, the promise will be</span></span><br><span class="line">  <span class="comment">// rejected.</span></span><br><span class="line">  <span class="attr">validateStatus</span>: <span class="keyword">function</span> (<span class="params">status</span>) {</span><br><span class="line">    <span class="keyword">return</span> status &gt;= <span class="number">200</span> &amp;&amp; status &lt; <span class="number">300</span>; <span class="comment">// default</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `maxRedirects` defines the maximum number of redirects to follow in node.js.</span></span><br><span class="line">  <span class="comment">// If set to 0, no redirects will be followed.</span></span><br><span class="line">  <span class="attr">maxRedirects</span>: <span class="number">5</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `socketPath` defines a UNIX Socket to be used in node.js.</span></span><br><span class="line">  <span class="comment">// e.g. '/var/run/docker.sock' to send requests to the docker daemon.</span></span><br><span class="line">  <span class="comment">// Only either `socketPath` or `proxy` can be specified.</span></span><br><span class="line">  <span class="comment">// If both are specified, `socketPath` is used.</span></span><br><span class="line">  <span class="attr">socketPath</span>: <span class="literal">null</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `httpAgent` and `httpsAgent` define a custom agent to be used when performing http</span></span><br><span class="line">  <span class="comment">// and https requests, respectively, in node.js. This allows options to be added like</span></span><br><span class="line">  <span class="comment">// `keepAlive` that are not enabled by default.</span></span><br><span class="line">  <span class="attr">httpAgent</span>: <span class="keyword">new</span> http.<span class="title class_">Agent</span>({ <span class="attr">keepAlive</span>: <span class="literal">true</span> }),</span><br><span class="line">  <span class="attr">httpsAgent</span>: <span class="keyword">new</span> https.<span class="title class_">Agent</span>({ <span class="attr">keepAlive</span>: <span class="literal">true</span> }),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `proxy` defines the hostname, port, and protocol of the proxy server.</span></span><br><span class="line">  <span class="comment">// You can also define your proxy using the conventional `http_proxy` and</span></span><br><span class="line">  <span class="comment">// `https_proxy` environment variables. If you are using environment variables</span></span><br><span class="line">  <span class="comment">// for your proxy configuration, you can also define a `no_proxy` environment</span></span><br><span class="line">  <span class="comment">// variable as a comma-separated list of domains that should not be proxied.</span></span><br><span class="line">  <span class="comment">// Use `false` to disable proxies, ignoring environment variables.</span></span><br><span class="line">  <span class="comment">// `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and</span></span><br><span class="line">  <span class="comment">// supplies credentials.</span></span><br><span class="line">  <span class="comment">// This will set an `Proxy-Authorization` header, overwriting any existing</span></span><br><span class="line">  <span class="comment">// `Proxy-Authorization` custom headers you have set using `headers`.</span></span><br><span class="line">  <span class="comment">// If the proxy server uses HTTPS, then you must set the protocol to `https`.</span></span><br><span class="line">  <span class="attr">proxy</span>: {</span><br><span class="line">    <span class="attr">protocol</span>: <span class="string">'https'</span>,</span><br><span class="line">    <span class="attr">host</span>: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">    <span class="attr">port</span>: <span class="number">9000</span>,</span><br><span class="line">    <span class="attr">auth</span>: {</span><br><span class="line">      <span class="attr">username</span>: <span class="string">'mikeymike'</span>,</span><br><span class="line">      <span class="attr">password</span>: <span class="string">'rapunz3l'</span></span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `cancelToken` specifies a cancel token that can be used to cancel the request</span></span><br><span class="line">  <span class="comment">// (see Cancellation section below for details)</span></span><br><span class="line">  <span class="attr">cancelToken</span>: <span class="keyword">new</span> <span class="title class_">CancelToken</span>(<span class="keyword">function</span> (<span class="params">cancel</span>) {</span><br><span class="line">  }),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `decompress` indicates whether or not the response body should be decompressed</span></span><br><span class="line">  <span class="comment">// automatically. If set to `true` will also remove the 'content-encoding' header</span></span><br><span class="line">  <span class="comment">// from the responses objects of all decompressed responses</span></span><br><span class="line">  <span class="comment">// - Node only (XHR cannot turn off decompression)</span></span><br><span class="line">  <span class="attr">decompress</span>: <span class="literal">true</span> <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="响应结构"><a href="#响应结构" class="headerlink" title="响应结构"></a>响应结构</h3><p>摘至<a target="_blank" rel="noopener" href="https://axios-http.com/docs/res_schema">Axios官方文档</a>;</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="comment">// `data` is the response that was provided by the server</span></span><br><span class="line">  <span class="attr">data</span>: {},</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `status` is the HTTP status code from the server response</span></span><br><span class="line">  <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `statusText` is the HTTP status message from the server response</span></span><br><span class="line">  <span class="comment">// As of HTTP/2 status text is blank or unsupported.</span></span><br><span class="line">  <span class="comment">// (HTTP/2 RFC: https://www.rfc-editor.org/rfc/rfc7540#section-8.1.2.4)</span></span><br><span class="line">  <span class="attr">statusText</span>: <span class="string">'OK'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `headers` the HTTP headers that the server responded with</span></span><br><span class="line">  <span class="comment">// All header names are lower cased and can be accessed using the bracket notation.</span></span><br><span class="line">  <span class="comment">// Example: `response.headers['content-type']`</span></span><br><span class="line">  <span class="attr">headers</span>: {},</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `config` is the config that was provided to `axios` for the request</span></span><br><span class="line">  <span class="attr">config</span>: {},</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `request` is the request that generated this response</span></span><br><span class="line">  <span class="comment">// It is the last ClientRequest instance in node.js (in redirects)</span></span><br><span class="line">  <span class="comment">// and an XMLHttpRequest instance in the browser</span></span><br><span class="line">  <span class="attr">request</span>: {}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>例如：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">'/path'</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">status</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">statusText</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">headers</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">config</span>);</span><br><span class="line">  });</span><br></pre></td></tr></tbody></table></figure>

<h3 id="项目中配置"><a href="#项目中配置" class="headerlink" title="项目中配置"></a>项目中配置</h3><p>在项目中有两种使用 <code>Axios</code> 的方式。 小项目中，只需要<strong>全局配置</strong>就可以满足大部分的业务需求。</p>
<h4 id="全局配置请求路径"><a href="#全局配置请求路径" class="headerlink" title="全局配置请求路径"></a>全局配置请求路径</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">'https://api.example.com'</span>;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="全局配置请求拦截器"><a href="#全局配置请求拦截器" class="headerlink" title="全局配置请求拦截器"></a>全局配置请求拦截器</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 所有的请求发出之前，都会进入请求拦截器</span></span><br><span class="line">axios</span><br><span class="line">  .<span class="property">interceptors</span></span><br><span class="line">  .<span class="property">request</span></span><br><span class="line">  .<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  }, <span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  });</span><br></pre></td></tr></tbody></table></figure>

<p>例如：我们有一个需求，当用户登录过期之后，返回到登录页。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">  .<span class="property">interceptors</span></span><br><span class="line">  .<span class="property">request</span></span><br><span class="line">  .<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) {</span><br><span class="line">    <span class="keyword">const</span> expire = config.<span class="property">headers</span>.<span class="property">expire</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (expire &gt; +<span class="keyword">new</span> <span class="title class_">Date</span>()) {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'登录超时，请重新登录！'</span>);</span><br><span class="line">      history.<span class="title function_">push</span>(<span class="string">'/login'</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  }, <span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  });</span><br></pre></td></tr></tbody></table></figure>

<h4 id="全局配置响应拦截器"><a href="#全局配置响应拦截器" class="headerlink" title="全局配置响应拦截器"></a>全局配置响应拦截器</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 所有的请求响应之后都会优先进入响应拦截器</span></span><br><span class="line">axios</span><br><span class="line">  .<span class="property">interceptors</span></span><br><span class="line">  .<span class="property">response</span></span><br><span class="line">  .<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  }, <span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  });</span><br></pre></td></tr></tbody></table></figure>

<p>例如：接口请求返回 <code>500</code> 或者 <code>401</code> 时，跳转到各自的自定义页面。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">axios</span><br><span class="line">  .<span class="property">interceptors</span></span><br><span class="line">  .<span class="property">response</span></span><br><span class="line">  .<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  }, <span class="keyword">function</span> (<span class="params">{ response, request }</span>) {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">status</span> === <span class="number">500</span> || request.<span class="property">status</span> === <span class="number">500</span>) {</span><br><span class="line">      history.<span class="title function_">push</span>(<span class="string">'/500'</span>)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">status</span> === <span class="number">401</span>) {</span><br><span class="line">      history.<span class="title function_">push</span>(<span class="string">'/401'</span>)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  });</span><br></pre></td></tr></tbody></table></figure>

<h4 id="实例化配置"><a href="#实例化配置" class="headerlink" title="实例化配置"></a>实例化配置</h4><p>当项目较大，存在多个接口域名时，<strong>全局配置</strong>就不太适用了，这是可以通过实例化 <code>Axios</code> 配置的方式。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> http = axios.<span class="title function_">create</span>({</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">'https://api.example.com'</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">500</span>,</span><br><span class="line">  <span class="attr">headers</span>: {</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/json;charset=UTF-8'</span></span><br><span class="line">  },</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求拦截器，仅针对 http 实例</span></span><br><span class="line">http</span><br><span class="line">  .<span class="property">interceptors</span></span><br><span class="line">  .<span class="property">response</span></span><br><span class="line">  .<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  }, <span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  });</span><br><span class="line"></span><br><span class="line"><span class="comment">// 响应拦截器，仅针对 http 实例</span></span><br><span class="line">http</span><br><span class="line">  .<span class="property">interceptors</span></span><br><span class="line">  .<span class="property">response</span></span><br><span class="line">  .<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) {</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  }, <span class="keyword">function</span> (<span class="params">error</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  });</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h4 id="取消请求"><a href="#取消请求" class="headerlink" title="取消请求"></a>取消请求</h4><p>Axios 内部提供了 <code>CancelToken</code>，可以用来取消特定的网络请求。</p>
<p>注意：<code>CancelToken</code> 在 <strong>v0.22.0</strong> 版本以后已经被弃用，官方目前推荐使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController"><code>AbortController</code></a> 来代替，请根据项目对于浏览器的适配要求自行选择。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 请求缓存</span></span><br><span class="line"><span class="keyword">const</span> cache = {};</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CancelToken</span> = axios.<span class="property">CancelToken</span>;</span><br><span class="line"></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">request</span>) {</span><br><span class="line">  <span class="keyword">const</span> { url } = request;</span><br><span class="line">  <span class="title function_">checkRequest</span>(request);</span><br><span class="line"></span><br><span class="line">  request.<span class="property">cancelToken</span> = <span class="keyword">new</span> <span class="title class_">CancelToken</span>(<span class="function"><span class="params">cancel</span> =&gt;</span> {</span><br><span class="line">    cache[url] = cancel;</span><br><span class="line">  });</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> request;</span><br><span class="line">}, <span class="function">(<span class="params">error</span>) =&gt;</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">checkRequest</span> = (<span class="params">{ url }</span>) =&gt; {</span><br><span class="line">  <span class="keyword">if</span> (cache[url]) {</span><br><span class="line">    cache[url](<span class="string">'请勿重复请求'</span>);</span><br><span class="line">    <span class="keyword">delete</span> cache[url];</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>作为一个网络请求库代码实现优雅、功能齐全、体积小、扩展性强无疑让 <code>Axios</code> 获得了业内大部分人的认可和支持。希望 <code>Axios</code> 的开发团队能给我们带来更多惊喜。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-04-18</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Javascript/" title="Javascript">Javascript </a><a class="tag" href="/tags/Axios/" title="Axios">Axios </a></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/477dc5ad3751" title="Dotenv配置项目环境变量">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/96ed4210431b" title="在项目中使用Mockjs">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>