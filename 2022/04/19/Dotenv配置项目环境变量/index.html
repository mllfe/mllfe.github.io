<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Axe"><title>Dotenvé…ç½®é¡¹ç›®ç¯å¢ƒå˜é‡ Â· Axe</title><meta name="description" content="å‰è¨€å‰ç«¯é¡¹ç›®çš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ .env ä¸ Java é¡¹ç›®ä¸­ applicationContext.xml å’Œ application.properties çš„ä½œç”¨ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ¥é…ç½®é»˜è®¤çš„é¡¹ç›®å¯åŠ¨å‚æ•°ã€‚
Dotenvä¸€ä¸ªå…¨çƒèŒƒå›´å†…çš„ï¼Œå®‰å…¨çš„ç¯å¢ƒå˜é‡æ ‡æ³¨å®ç°åº“ã€‚

The worldwide sta"><meta name="keywords" content="Javascript,HTML,CSS,Typescript"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/avatar.jpg" style="width:127px;"><h3 title=""><a href="/">Axe</a></h3><div class="description"><p>ä¸ä¼šåšé¥­çš„å¨å¸ˆä¸æ˜¯å¥½ç¨‹åºå‘˜</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="http://github.com/mllfe"><i class="fa fa-github"></i></a></li><li><a target="_blank" rel="noopener" href="http://gitee.com/shadow-seen"><i class="fa fa-code-fork"></i></a></li></ul></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">é¦–é¡µ</a></li><li><a href="/archives">å½’æ¡£</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"></a></li></div><div class="avatar"><img src="https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epW6HbP60p4KOibicicFmOdG9SuUVOSeqTOXUynknl90CFuyvdZnribjytAUahjstLgQib29tlNU0C1dOw/132"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3></h3></div><div class="post-content"><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å‰ç«¯é¡¹ç›®çš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ <code>.env</code> ä¸ Java é¡¹ç›®ä¸­ <code>applicationContext.xml</code> å’Œ <code>application.properties</code> çš„ä½œç”¨ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ¥é…ç½®é»˜è®¤çš„é¡¹ç›®å¯åŠ¨å‚æ•°ã€‚</p>
<h2 id="Dotenv"><a href="#Dotenv" class="headerlink" title="Dotenv"></a>Dotenv</h2><p>ä¸€ä¸ªå…¨çƒèŒƒå›´å†…çš„ï¼Œå®‰å…¨çš„ç¯å¢ƒå˜é‡æ ‡æ³¨å®ç°åº“ã€‚</p>
<blockquote>
<p>The worldwide standard for securing environment variables</p>
</blockquote>
<h3 id="å®‰è£…-Dotenv"><a href="#å®‰è£…-Dotenv" class="headerlink" title="å®‰è£… Dotenv"></a>å®‰è£… Dotenv</h3><p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ <code>Vue</code> æˆ–è€… <code>React</code> å¼€å‘ï¼Œé‚£ä¹ˆæ— éœ€å†ä¸‹è½½ <code>dotenv</code>ï¼Œå› ä¸ºå®ƒä»¬æœ¬èº«å°±å·²ç»é›†æˆã€‚</p>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»å®ƒåœ¨ <code>Vue</code> é¡¹ç›®ä¸­çš„ä½¿ç”¨ï¼Œ<code>React</code> é¡¹ç›®ä¸­åŸºæœ¬æ²¡æœ‰å¤ªå¤§å·®åˆ«ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line">npm install dotenv --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># yarn</span></span><br><span class="line">yarn add dotenv</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä½¿ç”¨-Dotenv"><a href="#ä½¿ç”¨-Dotenv" class="headerlink" title="ä½¿ç”¨ Dotenv"></a>ä½¿ç”¨ Dotenv</h3><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»º <code>.env</code> æ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> src/</span><br><span class="line"></span><br><span class="line"><span class="built_in">touch</span> .<span class="built_in">env</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ <code>.env</code> æ–‡ä»¶ä¸­å†™å…¥ä½ è¦æ·»åŠ çš„é…ç½®é¡¹ï¼Œä»¥ <code>=</code> é…å¯¹ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FOO=BAR</span><br><span class="line">ABC=XYZ</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„å®ä¾‹æ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿï¼Ÿè¿™ç§å†™æ³•è·Ÿ <code>applicationContext.xml</code> ä¸­çš„å†™æ³•å®Œå…¨ä¸€æ ·ã€‚</p>
<h3 id="è®¿é—®-Dotenv-ä¸­å®šä¹‰çš„é…ç½®"><a href="#è®¿é—®-Dotenv-ä¸­å®šä¹‰çš„é…ç½®" class="headerlink" title="è®¿é—® Dotenv ä¸­å®šä¹‰çš„é…ç½®"></a>è®¿é—® Dotenv ä¸­å®šä¹‰çš„é…ç½®</h3><p>å› ä¸º <code>vue-cli</code> å’Œ <code>create-react-app</code> ä¸­é»˜è®¤é›†æˆäº† <code>dotenv</code> æ‰€ä»¥ä¸éœ€è¦å¼•å…¥å³å¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<h4 id="é-Vue-å’Œ-React-é¡¹ç›®"><a href="#é-Vue-å’Œ-React-é¡¹ç›®" class="headerlink" title="é Vue å’Œ React é¡¹ç›®"></a>é Vue å’Œ React é¡¹ç›®</h4><p>åœ¨é¡¹ç›®çš„å¯åŠ¨æ–‡ä»¶ä¸­å¯¼å…¥ <code>dotenv</code>ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// es5</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'dotenv'</span>).<span class="title function_">config</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'dotenv/config'</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(process.<span class="property">env</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å°±å¯ä»¥ç›´æ¥è®¿é—® <code>.env</code> ä¸­é…ç½®çš„å‚æ•°ã€‚</p>
<h4 id="Vue-æˆ–-React-é¡¹ç›®"><a href="#Vue-æˆ–-React-é¡¹ç›®" class="headerlink" title="Vue æˆ– React é¡¹ç›®"></a>Vue æˆ– React é¡¹ç›®</h4><p>è¿™é‡Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ <code>vue-cli</code> æˆ– <code>create-react-app</code> åˆ›å»ºçš„é¡¹ç›®(è„šæ‰‹æ¶ä¼šè‡ªåŠ¨åˆ›å»º <code>.env</code> æ–‡ä»¶)ï¼Œæ— éœ€å¼•å…¥å³å¯ç›´æ¥è®¿é—®ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(process.<span class="property">env</span>)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="é…ç½®å¤šç¯å¢ƒ"><a href="#é…ç½®å¤šç¯å¢ƒ" class="headerlink" title="é…ç½®å¤šç¯å¢ƒ"></a>é…ç½®å¤šç¯å¢ƒ</h3><p>ä¸å»ºè®®é…ç½®å¾ˆå¤šæœ¬åœ°ç¯å¢ƒé…ç½®ï¼Œ<code>.env</code> é»˜è®¤æ˜¯ <code>development</code> ç¯å¢ƒä¸‹é»˜è®¤è½½å…¥çš„ã€‚</p>
<p>ä½ å¯ä»¥é¢å¤–å†é…ç½®ä¸€ä¸ªç”Ÿæˆç¯å¢ƒçš„é…ç½®æ–‡ä»¶ <code>.env.production</code>ï¼Œå½“é¡¹ç›®æ‰§è¡Œå¼€å‘ç¯å¢ƒæ‰“åŒ…æ—¶ä¼šåŠ è½½ <code>.env.production</code> ä¸­çš„é…ç½®é¡¹ã€‚</p>
<h3 id="è‡ªå®šä¹‰ç¯å¢ƒé…ç½®"><a href="#è‡ªå®šä¹‰ç¯å¢ƒé…ç½®" class="headerlink" title="è‡ªå®šä¹‰ç¯å¢ƒé…ç½®"></a>è‡ªå®šä¹‰ç¯å¢ƒé…ç½®</h3><p>ä¸Šé¢çš„ <code>development</code> å’Œ <code>production</code> ç¯å¢ƒåªéœ€è¦åˆ›å»ºæœ¬åœ°é…ç½®æ–‡ä»¶å°±è¡Œäº†ï¼Œé¡¹ç›®ä¼šè‡ªåŠ¨è¯»å–ã€‚ä½†æ˜¯åˆ›å»ºä¸€ä¸ªç§äººçš„ç¯å¢ƒé…ç½®ï¼Œå¦‚ä½•æ‰èƒ½è®©é¡¹ç›®å»åŠ è½½å‘¢ï¼Ÿ</p>
<p>ä»¥ <code>Vue</code> é¡¹ç›®ä¸ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> src/</span><br><span class="line"></span><br><span class="line"><span class="built_in">touch</span> .env.personal</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ <code>package.json</code> æŒ‡å®šåŠ è½½ <code>.env.personal</code> ä¸­çš„é…ç½®é¡¹ï¼š</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="attr">"scripts"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"serve"</span><span class="punctuation">:</span> <span class="string">"vue-cli-service serve"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"build"</span><span class="punctuation">:</span> <span class="string">"vue-cli-service build"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// "personal": "vue-cli-service serve --mode personal"</span></span><br><span class="line">  <span class="attr">"serve:personal"</span><span class="punctuation">:</span> <span class="string">"vue-cli-service serve --mode personal"</span></span><br><span class="line"><span class="punctuation">}</span></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></tbody></table></figure>

<p>æŒ‡å®šåŠ è½½ <code>.env.personal</code> å¹¶å¯åŠ¨é¡¹ç›®ï¼š</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line"><span class="comment"># npm run personal</span></span><br><span class="line">npm run serve:personal</span><br><span class="line"></span><br><span class="line"><span class="comment"># yarn</span></span><br><span class="line"><span class="comment"># yarn personal</span></span><br><span class="line">yarn serve:personal</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·å°±èƒ½ç›´æ¥åœ¨é¡¹ç›®ä¸­é€šè¿‡ <code>process.env</code> è®¿é—®é…ç½®å†…å®¹äº†ã€‚</p>
<h3 id="ä¸€äº›é‡è¦çš„äº‹æƒ…"><a href="#ä¸€äº›é‡è¦çš„äº‹æƒ…" class="headerlink" title="ä¸€äº›é‡è¦çš„äº‹æƒ…"></a>ä¸€äº›é‡è¦çš„äº‹æƒ…</h3><ul>
<li>è¯·åŠ¡å¿…åœ¨ <code>.gitignore</code> ä¸­å¿½ç•¥é¡¹ç›®ä¸­æ‰€æœ‰çš„ <code>.env</code> æ–‡ä»¶ï¼Œä»¥ä¿æŠ¤ä½ çš„éšç§ã€‚</li>
<li>è¯·åŠ¡å¿…ä¸è¦åœ¨ <code>.env</code> æ–‡ä»¶ä¸­å‚¨å­˜ä»»ä½•é‡è¦ä¿¡æ¯ã€‚</li>
<li>Vue é¡¹ç›®ä¸­ï¼Œåªä¼šåŠ è½½ä»¥ <code>NODE_ENV</code>ã€<code>BASE_URL</code>ã€<code>VUE_APP_</code> å¼€å¤´çš„å˜é‡ã€‚</li>
<li>å¼€å‘ç¯å¢ƒä¸‹çš„ <code>.env</code> æ–‡ä»¶ä¸­é»˜è®¤ <code>NODE_ENV=development</code>ï¼Œä½ ä¸åº”è¯¥åœ¨ <code>.env</code> ä¸­æ›´æ”¹ <code>NODE_ENV</code>ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒçš„é…ç½®åŒä¸Šã€‚</li>
</ul>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>é¡¹ç›®æœ¬åœ°ç¯å¢ƒå˜é‡çš„å‡ºç°æœ¬èº«æ˜¯ä¸ºäº†æ–¹ä¾¿é¡¹ç›®å¼€å‘ï¼Œä½¿é¡¹ç›®æ›´åŠ çµæ´»çš„å»é€‚åº”å„ç§ç¯å¢ƒã€‚ä½†çµæ´»å¾€å¾€æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œç”¨çš„å¥½äº†å¤§å®¶éƒ½æ–¹ä¾¿ï¼Œç”¨çš„ä¸å¥½å¯èƒ½å°±ä¼šè¢«æŠ•æœºè€…çªƒå–é‡è¦çš„ä¿¡æ¯ã€‚<span class="github-emoji"><span>ğŸ˜‘</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f611.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-04-19</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Javascript/" title="Javascript">Javascript </a><a class="tag" href="/tags/env/" title="env">env </a><a class="tag" href="/tags/dotenv/" title="dotenv">dotenv </a></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2022/04/21/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/" title="å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯æ¨é€">ä¸Šä¸€ç¯‡</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2022/04/18/Axios%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/" title="Axiosé¡¹ç›®é…ç½®">ä¸‹ä¸€ç¯‡</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>